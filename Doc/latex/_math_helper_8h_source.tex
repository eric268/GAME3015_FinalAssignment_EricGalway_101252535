\hypertarget{_math_helper_8h_source}{}\doxysection{Math\+Helper.\+h}
\label{_math_helper_8h_source}\index{D3DCommon/MathHelper.h@{D3DCommon/MathHelper.h}}
\mbox{\hyperlink{_math_helper_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//***************************************************************************************}}
\DoxyCodeLine{2 \textcolor{comment}{// MathHelper.h }}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Helper math class.}}
\DoxyCodeLine{5 \textcolor{comment}{//***************************************************************************************}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <Windows.h>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <DirectXMath.h>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{class }\mbox{\hyperlink{class_math_helper}{MathHelper}}}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15 \textcolor{keyword}{public}:}
\DoxyCodeLine{16     \textcolor{comment}{// Returns random float in [0, 1).}}
\DoxyCodeLine{17     \textcolor{keyword}{static} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_math_helper_ad50130c776aee103e24d7170adcd13a3}{RandF}}()}
\DoxyCodeLine{18     \{}
\DoxyCodeLine{19         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})(rand()) / (\textcolor{keywordtype}{float})RAND\_MAX;}
\DoxyCodeLine{20     \}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22     \textcolor{comment}{// Returns random float in [a, b).}}
\DoxyCodeLine{23     \textcolor{keyword}{static} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_math_helper_a5b45a90302f9791a4961d943d473d6bb}{RandF}}(\textcolor{keywordtype}{float} a, \textcolor{keywordtype}{float} b)}
\DoxyCodeLine{24     \{}
\DoxyCodeLine{25         \textcolor{keywordflow}{return} a + \mbox{\hyperlink{class_math_helper_ad50130c776aee103e24d7170adcd13a3}{RandF}}()*(b-\/a);}
\DoxyCodeLine{26     \}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_math_helper_ab957edc5bcaf8d4966a1fde0e7c5fe38}{Rand}}(\textcolor{keywordtype}{int} a, \textcolor{keywordtype}{int} b)}
\DoxyCodeLine{29     \{}
\DoxyCodeLine{30         \textcolor{keywordflow}{return} a + rand() \% ((b -\/ a) + 1);}
\DoxyCodeLine{31     \}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{34     \textcolor{keyword}{static} T \mbox{\hyperlink{class_math_helper_a5609539d1b530660438b48c74af2e1f4}{Min}}(\textcolor{keyword}{const} T\& a, \textcolor{keyword}{const} T\& b)}
\DoxyCodeLine{35     \{}
\DoxyCodeLine{36         \textcolor{keywordflow}{return} a < b ? a : b;}
\DoxyCodeLine{37     \}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{40     \textcolor{keyword}{static} T \mbox{\hyperlink{class_math_helper_a0c33d72533f7bb85d56ab384e6867771}{Max}}(\textcolor{keyword}{const} T\& a, \textcolor{keyword}{const} T\& b)}
\DoxyCodeLine{41     \{}
\DoxyCodeLine{42         \textcolor{keywordflow}{return} a > b ? a : b;}
\DoxyCodeLine{43     \}}
\DoxyCodeLine{44      }
\DoxyCodeLine{45     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{46     \textcolor{keyword}{static} T \mbox{\hyperlink{class_math_helper_a1dfdb08dbd787c42bc5a42f41dd9b64c}{Lerp}}(\textcolor{keyword}{const} T\& a, \textcolor{keyword}{const} T\& b, \textcolor{keywordtype}{float} t)}
\DoxyCodeLine{47     \{}
\DoxyCodeLine{48         \textcolor{keywordflow}{return} a + (b-\/a)*t;}
\DoxyCodeLine{49     \}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{52     \textcolor{keyword}{static} T \mbox{\hyperlink{class_math_helper_af659fe642c374ff42247e25e887ae816}{Clamp}}(\textcolor{keyword}{const} T\& x, \textcolor{keyword}{const} T\& low, \textcolor{keyword}{const} T\& high)}
\DoxyCodeLine{53     \{}
\DoxyCodeLine{54         \textcolor{keywordflow}{return} x < low ? low : (x > high ? high : x); }
\DoxyCodeLine{55     \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{comment}{// Returns the polar angle of the point (x,y) in [0, 2*PI).}}
\DoxyCodeLine{58     \textcolor{keyword}{static} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_math_helper_a44b4f8f5faf51c790c87ebb7c2fc5c1e}{AngleFromXY}}(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keyword}{static} DirectX::XMVECTOR \mbox{\hyperlink{class_math_helper_a592137b14c704600422afa7654f0d441}{SphericalToCartesian}}(\textcolor{keywordtype}{float} radius, \textcolor{keywordtype}{float} theta, \textcolor{keywordtype}{float} phi)}
\DoxyCodeLine{61     \{}
\DoxyCodeLine{62         \textcolor{keywordflow}{return} DirectX::XMVectorSet(}
\DoxyCodeLine{63             radius*sinf(phi)*cosf(theta),}
\DoxyCodeLine{64             radius*cosf(phi),}
\DoxyCodeLine{65             radius*sinf(phi)*sinf(theta),}
\DoxyCodeLine{66             1.0f);}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keyword}{static} DirectX::XMMATRIX \mbox{\hyperlink{class_math_helper_aaad3761266ef094f5448993a8b2992a5}{InverseTranspose}}(DirectX::CXMMATRIX M)}
\DoxyCodeLine{70     \{}
\DoxyCodeLine{71         \textcolor{comment}{// Inverse-\/transpose is just applied to normals.  So zero out }}
\DoxyCodeLine{72         \textcolor{comment}{// translation row so that it doesn't get into our inverse-\/transpose}}
\DoxyCodeLine{73         \textcolor{comment}{// calculation-\/-\/we don't want the inverse-\/transpose of the translation.}}
\DoxyCodeLine{74         DirectX::XMMATRIX A = M;}
\DoxyCodeLine{75         A.r[3] = DirectX::XMVectorSet(0.0f, 0.0f, 0.0f, 1.0f);}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         DirectX::XMVECTOR det = DirectX::XMMatrixDeterminant(A);}
\DoxyCodeLine{78         \textcolor{keywordflow}{return} DirectX::XMMatrixTranspose(DirectX::XMMatrixInverse(\&det, A));}
\DoxyCodeLine{79     \}}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \textcolor{keyword}{static} DirectX::XMFLOAT4X4 \mbox{\hyperlink{class_math_helper_a68b4e9af95b1a36aad30ea80839f6b19}{Identity4x4}}()}
\DoxyCodeLine{82     \{}
\DoxyCodeLine{83         \textcolor{keyword}{static} DirectX::XMFLOAT4X4 I(}
\DoxyCodeLine{84             1.0f, 0.0f, 0.0f, 0.0f,}
\DoxyCodeLine{85             0.0f, 1.0f, 0.0f, 0.0f,}
\DoxyCodeLine{86             0.0f, 0.0f, 1.0f, 0.0f,}
\DoxyCodeLine{87             0.0f, 0.0f, 0.0f, 1.0f);}
\DoxyCodeLine{88 }
\DoxyCodeLine{89         \textcolor{keywordflow}{return} I;}
\DoxyCodeLine{90     \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     \textcolor{keyword}{static} DirectX::XMVECTOR \mbox{\hyperlink{class_math_helper_ad28ffa12ec507b33bd45dd3a842173a6}{RandUnitVec3}}();}
\DoxyCodeLine{93     \textcolor{keyword}{static} DirectX::XMVECTOR \mbox{\hyperlink{class_math_helper_a1b8d2df0e81ec45673de09642351119d}{RandHemisphereUnitVec3}}(DirectX::XMVECTOR n);}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_math_helper_a47ba7794c81623ae250d7593a0e8de6a}{Infinity}};}
\DoxyCodeLine{96     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_math_helper_a988107c0e593a0e1c6aae304814aabf7}{Pi}};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{keyword}{static} DirectX::XMFLOAT3 \mbox{\hyperlink{class_math_helper_a923033daa6533483fed9504c4c6f4a26}{GetPosition}}(\textcolor{keyword}{const} DirectX::XMFLOAT4X4 transform)}
\DoxyCodeLine{99     \{}
\DoxyCodeLine{100         \textcolor{keywordflow}{return} DirectX::XMFLOAT3(transform.\_41, transform.\_42, transform.\_43);}
\DoxyCodeLine{101     \}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_math_helper_a15ec0fd8ffcbdbf63fa9b232c03bde4e}{UpdatePosition}}(DirectX::XMFLOAT4X4\& transform, \textcolor{keyword}{const} DirectX::XMFLOAT3 pos)}
\DoxyCodeLine{104     \{}
\DoxyCodeLine{105         transform.\_41 = pos.x;}
\DoxyCodeLine{106         transform.\_42 = pos.y;}
\DoxyCodeLine{107         transform.\_43 = pos.z;}
\DoxyCodeLine{108     \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110     \textcolor{keyword}{static} DirectX::XMFLOAT4X4 \mbox{\hyperlink{class_math_helper_a26c67a7519fc5a63b1a2574880eb74f4}{MultiplyXMFLOAT4x4}}(DirectX::XMFLOAT4X4 m1, DirectX::XMFLOAT4X4 m2)}
\DoxyCodeLine{111     \{}
\DoxyCodeLine{112         \textcolor{keywordtype}{float} v11 = m1.\_11;}
\DoxyCodeLine{113         \textcolor{keywordtype}{float} v12 = m1.\_12;}
\DoxyCodeLine{114         \textcolor{keywordtype}{float} v13 = m1.\_13;}
\DoxyCodeLine{115         \textcolor{keywordtype}{float} v14 = m1.\_14;}
\DoxyCodeLine{116 }
\DoxyCodeLine{117         \textcolor{keywordtype}{float} v21 = m1.\_21;}
\DoxyCodeLine{118         \textcolor{keywordtype}{float} v22 = m1.\_22;}
\DoxyCodeLine{119         \textcolor{keywordtype}{float} v23 = m1.\_23;}
\DoxyCodeLine{120         \textcolor{keywordtype}{float} v24 = m1.\_24;}
\DoxyCodeLine{121 }
\DoxyCodeLine{122         \textcolor{keywordtype}{float} v31 = m1.\_31;}
\DoxyCodeLine{123         \textcolor{keywordtype}{float} v32 = m1.\_32;}
\DoxyCodeLine{124         \textcolor{keywordtype}{float} v33 = m1.\_33;}
\DoxyCodeLine{125         \textcolor{keywordtype}{float} v34 = m1.\_34;}
\DoxyCodeLine{126 }
\DoxyCodeLine{127         \textcolor{keywordtype}{float} v41 = m1.\_41;}
\DoxyCodeLine{128         \textcolor{keywordtype}{float} v42 = m1.\_42;}
\DoxyCodeLine{129         \textcolor{keywordtype}{float} v43 = m1.\_43;}
\DoxyCodeLine{130         \textcolor{keywordtype}{float} v44 = m1.\_44;}
\DoxyCodeLine{131 }
\DoxyCodeLine{132         \textcolor{keywordtype}{float} q11 = m2.\_11;}
\DoxyCodeLine{133         \textcolor{keywordtype}{float} q12 = m2.\_12;}
\DoxyCodeLine{134         \textcolor{keywordtype}{float} q13 = m2.\_13;}
\DoxyCodeLine{135         \textcolor{keywordtype}{float} q14 = m2.\_14;}
\DoxyCodeLine{136                      }
\DoxyCodeLine{137         \textcolor{keywordtype}{float} q21 = m2.\_21;}
\DoxyCodeLine{138         \textcolor{keywordtype}{float} q22 = m2.\_22;}
\DoxyCodeLine{139         \textcolor{keywordtype}{float} q23 = m2.\_23;}
\DoxyCodeLine{140         \textcolor{keywordtype}{float} q24 = m2.\_24;}
\DoxyCodeLine{141                      }
\DoxyCodeLine{142         \textcolor{keywordtype}{float} q31 = m2.\_31;}
\DoxyCodeLine{143         \textcolor{keywordtype}{float} q32 = m2.\_32;}
\DoxyCodeLine{144         \textcolor{keywordtype}{float} q33 = m2.\_33;}
\DoxyCodeLine{145         \textcolor{keywordtype}{float} q34 = m2.\_34;}
\DoxyCodeLine{146                      }
\DoxyCodeLine{147         \textcolor{keywordtype}{float} q41 = m2.\_41;}
\DoxyCodeLine{148         \textcolor{keywordtype}{float} q42 = m2.\_42;}
\DoxyCodeLine{149         \textcolor{keywordtype}{float} q43 = m2.\_43;}
\DoxyCodeLine{150         \textcolor{keywordtype}{float} q44 = m2.\_44;}
\DoxyCodeLine{151 }
\DoxyCodeLine{152         \textcolor{keywordtype}{float} a11 = v11 * q11 + v12 * q21 + v13 * q31 + v14 * q41;}
\DoxyCodeLine{153         \textcolor{keywordtype}{float} a12 = v11 * q12 + v12 * q22 + v13 * q32 + v14 * q42;}
\DoxyCodeLine{154         \textcolor{keywordtype}{float} a13 = v11 * q13 + v12 * q23 + v13 * q33 + v14 * q43;}
\DoxyCodeLine{155         \textcolor{keywordtype}{float} a14 = v11 * q14 + v12 * q24 + v13 * q34 + v14 * q44;}
\DoxyCodeLine{156 }
\DoxyCodeLine{157         \textcolor{keywordtype}{float} a21 = v21 * q11 + v22 * q21 + v23 * q31 + v24 * q41;}
\DoxyCodeLine{158         \textcolor{keywordtype}{float} a22 = v21 * q12 + v22 * q22 + v23 * q32 + v24 * q42;}
\DoxyCodeLine{159         \textcolor{keywordtype}{float} a23 = v21 * q13 + v22 * q23 + v23 * q33 + v24 * q43;}
\DoxyCodeLine{160         \textcolor{keywordtype}{float} a24 = v21 * q14 + v22 * q24 + v23 * q34 + v24 * q44;}
\DoxyCodeLine{161 }
\DoxyCodeLine{162         \textcolor{keywordtype}{float} a31 = v31 * q11 + v32 * q21 + v33 * q31 + v34 * q41;}
\DoxyCodeLine{163         \textcolor{keywordtype}{float} a32 = v31 * q12 + v32 * q22 + v33 * q32 + v34 * q42;}
\DoxyCodeLine{164         \textcolor{keywordtype}{float} a33 = v31 * q13 + v32 * q23 + v33 * q33 + v34 * q43;}
\DoxyCodeLine{165         \textcolor{keywordtype}{float} a34 = v31 * q14 + v32 * q24 + v33 * q34 + v34 * q44;}
\DoxyCodeLine{166 }
\DoxyCodeLine{167         \textcolor{keywordtype}{float} a41 = v41 * q11 + v42 * q21 + v43 * q31 + v44 * q41;}
\DoxyCodeLine{168         \textcolor{keywordtype}{float} a42 = v41 * q12 + v42 * q22 + v43 * q32 + v44 * q42;}
\DoxyCodeLine{169         \textcolor{keywordtype}{float} a43 = v41 * q13 + v42 * q23 + v43 * q33 + v44 * q43;}
\DoxyCodeLine{170         \textcolor{keywordtype}{float} a44 = v41 * q14 + v42 * q24 + v43 * q34 + v44 * q44;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         \textcolor{keywordflow}{return} DirectX::XMFLOAT4X4(a11, a12, a13, a14, a21, a22, a23, a24, a31, a32, a33, a34, a41, a42, a43, a44);}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174 \};}
\DoxyCodeLine{175 }

\end{DoxyCode}
